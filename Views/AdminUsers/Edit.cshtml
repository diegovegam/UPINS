@model UPINS.Models.ViewModels.UserViewModel
@{
}
<div class="container py-5">
	<form method="post">

		<div>
			<input type="hidden" asp-for="Id"></input>
		</div>
		<div class="mb-3">
			<label class="form-label">Usuario</label>
			<input type="text" id="username" class="form-control" asp-for="Username"></input>
		</div>
		<div class="mb-3">
			<label class="form-label">Correo Electrónico</label>
			<input type="text" id="email" class="form-control" asp-for="Email"></input>
		</div>

		<div class="mb-3">
			<label class="form-label">Contraseña</label>
			<input type="password" id="password" class="form-control" asp-for="Password"></input>
		</div>

		<div class="mb-3">
			<div class="form-check">
				<input type="checkbox" id="chkUserRole" class="form-check-input" value="User" checked disabled />
				<label class="form-check-label" for="chkUserRole">Rol de Usuario</label>
			</div>
			@if (User.IsInRole("SuperAdmin"))
			{
				<div class="form-check">
					<input type="checkbox" id="chkAdminUserRole" class="form-check-input" asp-for="AdminRole" />
					<label class="form-check-label" for="chkAdminUserRole">Admin Role</label>
				</div>
			}

			<div class="mb-3">
				<a class="btn btn-secondary" asp-controller="AdminUsers" asp-action="List">Cerrar</a>
				<button type="submit" class="btn btn-outline-dark" asp-controller="AdminUsers" asp-action="Edit">Guardar</button>
			</div>


		</div>

	</form>
</div>

@section Scripts
{
	<script>
		const inputUserName = document.getElementById('username');
		const inputEmail = document.getElementById('email');
		const inputPassword = document.getElementById('password');
		const inputAdminRole = document.getElementById('chkAdminUserRole');


		let usernameChanged = @ViewBag.Username.ToString().ToLower();
		let emailChanged = @ViewBag.Email.ToString().ToLower();
		let passwordChanged = @ViewBag.Password.ToString().ToLower();
		let adminRoleChanged = @ViewBag.AdminRole.ToString().ToLower();

		if(usernameChanged)
		{
			inputUserName.classList.add("is-valid");
			console.log("it worked")
		}

		if(emailChanged)
		{
			inputEmail.classList.add("is-valid");
			console.log("it worked")
		}

		if(passwordChanged)
		{
			inputPassword.classList.add("is-valid");
			console.log("it worked")
		}
		if(adminRoleChanged)
		{
			inputAdminRole.classList.add("is-valid");
			console.log("it worked")
		}

	

	</script>
}